import LazyLoadComponent from '../components/LazyLoadComponent';
import { useState, useEffect } from 'react';

import InstagramEmbed from '../components/InstagramEmbed';


# Welcome to Critical Mass Princeton

Critical Mass Princeton is a community bike ride to give everyone the opportunity to 
safely recreate the streets of downtown Princeton. It is about fostering a sense of 
community, where bicycle enjoyers of all ages and abilities can recreate and experience 
the joy of riding together. The only goal is to provide a welcoming space where we can 
collectively create a positive and safe experience for each other while enjoying the 
shared freedom of biking in our beautiful town.

## What is Critical Mass?

Critical Mass is not just a bike ride, but a movement that celebrates cycling and the 
rights of cyclists. It's a global phenomenon, adapted locally by communities to highlight 
local issues and, above all else, <u>bring people together</u>.

[Learn more about Critical Mass on Wikipedia](https://en.wikipedia.org/wiki/Critical_Mass_(cycling))


## Link to Socialzzz
<InstagramEmbed url="https://www.instagram.com/criticalmassprinceton/" />


---
export function WhenAndWhere() {
  const [date, setDate] = useState('');

  useEffect(() => {
    const getLastFriday = (year, month) => {
      const lastDay = new Date(year, month + 1, 0);
      const day = lastDay.getDay();
      const lastFriday = lastDay.getDate() - ((day + 2) % 7);
      return new Date(year, month, lastFriday);
    };

    const today = new Date();
    const lastFriday = getLastFriday(today.getFullYear(), today.getMonth());
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    setDate(lastFriday.toLocaleDateString(undefined, options));
  }, []);

  return (
    <div>
      <h2>When and Where</h2>
      <p>We meet on the <u>last Friday of every month</u> at 6:30 PM and roll out at 7:00 PM.</p>
      <h3><p><b>Next meeting date:</b> <u>{date}</u></p></h3>
    </div>
  );
}


<WhenAndWhere />
---

<LazyLoadComponent page="route" />

<LazyLoadComponent page="faq" />

<LazyLoadComponent page="messaging" />